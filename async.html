<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asyns</title>
    <style>
      span {
        font-size: larger;
        color: brown;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h1 id="heading">What is <span>async</span> in JavaScript?</h1>

    <p>
      JavaScript is <span>single-threaded</span>, meaning it executes code line
      by line. However, certain operations like fetching data from a server,
      reading files, or setting timeouts take time. Instead of blocking
      execution, JavaScript allows asynchronous operations to run in the
      background while the rest of the code continues.
    </p>

    <p>
      The <span>async</span> keyword is used to define
      <span>asynchronous functions</span>, which allow us to write code that
      waits for a task to complete without blocking execution.
    </p>
    <p><span>Key Features</span></p>
    <p><span>*</span>Always return a <span>Promise</span>.</p>
    <p><span>*</span>Allows the use of <span>Await</span> inside them.</p>
    <p><span>*</span>Make asynchronous code look synchronous.</p>


    <h2 id="count">00</h2>
    <button id="startCounter">Start Counter</button>
    <button id="stopCounter">Stop Counter</button>


    <p id="demo"></p>

     <script>
      // let heading = document.getElementById("heading");

      // const changeText = () => {
      //   heading.innerHTML = "async is defined and explained below";
      // };

      // setTimeout(changeText, 5000);

      // for (let i = 1; i <= 5; i++) {
      //   setTimeout(() => {
      //     console.log("Message " + i);
      //   }, i * 1000);
      // }

      // function countdown(seconds) {
      //   if (seconds > 0) {
      //     console.log(seconds);
      //     setTimeout(() => countdown(seconds - 1), 1000);
      //   } else {
      //     console.log("Time's up!");
      //   }
      // }

      // countdown(5);

      // let intervalId = setInterval(() => {
      //   console.log("This will keep running...");
      // }, 1000);

      // setTimeout(() => {
      //   clearInterval(intervalId);
      //   console.log("Interval stopped!");
      // }, 5000);

      // function showTime() {
      //   let now = new Date();
      //   console.log(now.toLocaleTimeString());
      // }

      // let timeFunc = setInterval(showTime, 1000);

      // setTimeout(() => {
      //   clearInterval(timeFunc);
      //   console.log(`Timer has been stopped after : ${10} seconds`);
      // }, 10000);


      // let count = 0;
      // let counter = setInterval(() => {
      //   count++;
      //   console.log(`Count : ${count}`);
        
      // }, 1000);

      // setTimeout(() => {
      //   clearInterval(counter);
      //   console.log(`The counter has been stopped after : ${count} times`);
      // }, 10000);


      // let startCounter = document.getElementById("startCounter");
      // let stopCounter = document.getElementById("stopCounter");
      // let counter = document.getElementById("count");
      // let count = 0;
      // let stopCount = null;

      // startCounter.addEventListener("click",()=>{
      //   stopCount =  setInterval(() => {
      //       count++;
      //       counter.innerHTML=count;
      //     }, 1000);
      // });

      // stopCounter.addEventListener("click",()=>{
      //   clearInterval(stopCount);
      // });


      // const f1 = ()=>{
      //   console.log("This is Function One");
      // }

      // const f2 = ()=>{
      //   console.log("This is Function Two");
      // }

      // const f3 = ()=>{
      //   console.log("This is Function Three");
      // }

      // f1();
      // f3();
      // f2();

      // NOTE: JS Functions are executed in the order they are called.

      // const display = (sum,name)=>{
      //   console.log(`Sum of two numbers is : ${sum} calculated by : ${name}`);
        
      // }

      // const calculateSum = (n1,n2)=>{
      //   return n1+n2;
      // }

      // let res =  calculateSum(5,5);
      // display(res,"Shah Jahan");
      
      // second method:

      // const display = (sum,name)=>{
      //   console.log(`Sum of two numbers is : ${sum} calculated by : ${name}`);
        
      // }

      // const calculateSum = (n1,n2)=>{
      //   let res = n1+n2;
      //   display(res,"Shah Jahan");
      // }

      // calculateSum(5,5);
      
      // JS Callbacks

      // const display = (sum,name)=>{
      //   console.log(`Sum of two numbers is : ${sum} calculated by : ${name}`);
        
      // }

      // const calculateSum = (n1,n2, callback)=>{
      //   let res = n1+n2;
      //   console.log("Before the callback functions");
      //   callback(res,"Shah Jahan");
      //   console.log("After the callback functions");
      // }

      // calculateSum(5,5,display);

      // using callback function to remove -ve numbers from an Array;

      // const myArray = [1,2,3,4,5,6,7,8,9,-1,-2,-3,-4,-5,-6,-7,-8,-9]
      
      // const func = (myArray, callback)=>{
      //   const positiveNumArray = myArray.filter(callback);
      //   console.log(positiveNumArray);
        
      // }
      
      // const callback = (num)=>{
      //   if (num>0) {
      //     return num;
      //   }
      // }
      
      // func(myArray, callback);

      

      // const positiveNumFunc = (arr,callback)=>{
      //   const positiveNumArray = []

      //   for (const num of arr) {
      //     if (callback(num)) {
      //       positiveNumArray.push(num)
      //     }
      //   }
      //   return positiveNumArray;
      // }

      // const arrPosNum = positiveNumFunc(myArray, (num)=>{
      //   return num >= 0;
      // })

      // console.log(arrPosNum);
      
       const f1 = ()=>{
        console.log("This is Function One");
      }

      const f2 = ()=>{
        console.log("This is Function Two");
      }

      const f3 = ()=>{
        console.log("This is Function Three");
      }

      f1();
      setTimeout(f2, 3000);
      setTimeout(() => {
        console.log("I should wait for 4 seconds");
      }, 4000);
      f3();
      

      async function displayName() {
        return "My name is Shah Jahan"
      }
      // console.log(displayName());
      
      displayName().then((name)=>{
        console.log(`This is Promise : ${name}`);
      });

  async function myDisplay() {
  let myPromise = new Promise(function(resolve, reject) {
    resolve("I love You !!");
  });
  document.getElementById("demo").innerHTML = await myPromise;
}

myDisplay();

async function myDisplay() {
  let myPromise = new Promise(function(resolve) {
    setTimeout(() => resolve("I love You !!"), 6000); // Resolves after 2 seconds
  });

  document.getElementById("demo").innerHTML = await myPromise;
}
    </script>
  </body>
</html>
